<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>포켓몬도감</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header>포켓몬도감</header>
    <main>
      <div id="container"></div>
    </main>
    <footer></footer>
    <script>
      const $container = document.querySelector('#container');

      const getDataAPI = async id => {
        let url = `https://pokeapi.co/api/v2/pokemon/${id}`;
        let getKoreanNameURL = `https://pokeapi.co/api/v2/pokemon-species/${id}`;
        // let getKoreanNameURL = `https://pokeapi.co/api/v2/language/ko`;

        let res = await fetch(url);
        let resKoreanName = await fetch(getKoreanNameURL);

        if (res.ok) {
          let data = await res.json();
          let dataKoreanName = await resKoreanName.json();
          console.log(data);
          console.log('한글이름:', dataKoreanName);
          getPokemonInfo(data, dataKoreanName);
        } else {
          console.log(res.status);
          throw new Error('에러다 휴먼');
        }
      };

      for (let i = 1; i <= 5; i++) {
        getDataAPI(i);
      }

      function getPokemonInfo(info, name) {
        // $container.innerHTML = '';
        const wrapper = document.createElement('div');
        const div = document.createElement('div');
        const img = document.createElement('img');
        div.textContent = name.names[2].name;
        img.src = info.sprites.front_default;
        wrapper.append(img);
        wrapper.append(div);
        $container.append(wrapper);
      }
    </script>
  </body>
</html>
